\documentclass[../main]{subfiles}

\ifSubfilesClassLoaded{
    \input{tikzset}
    \input{subctikz}
    % \tikzexternalize[prefix=figcache/]
} {
}

\begin{document}

\section{Initializer}

\begin{figure}[!h]

    \centering
    \resizebox{\textwidth}{!}{

        \begin{tikzpicture} [american]

            \draw [line join = round]
            (0,0)
            \Init {init} {clk}
            {\texttt{CLK GEN}}
            {\texttt{RST GEN}}
            {\texttt{HALT UNIT}}

            (init-clk) node[ocirc] {}
            (init-clk) node[left = 4pt] {$Clk$}

            (init-on) node[ocirc] {}
            (init-on) node[left = 4pt] {$On$}

            (init-muxlast) node[ocirc] {}
            (init-muxlast) node[below = 4pt] {$Muxlast$}

            (init-feclk) node[ocirc] {}
            (init-feclk) node[right = 4pt] {$Feclk$}

            (init-reclk) node[ocirc] {}
            (init-reclk) node[right = 4pt] {$Reclk$}

            (init-rstsig) node[ocirc] {}
            (init-rstsig) node[right = 4pt] {$Rstsig$}

            ;
        \end{tikzpicture}

    }
    \caption{Initializer}
\end{figure}

\end{document}
