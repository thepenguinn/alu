\documentclass[../main]{subfiles}

\ifSubfilesClassLoaded{
    \input{tikzset}
    \input{subctikz}
    % \tikzexternalize[prefix=figcache/]
} {
    \input{onebitalu/tikzset}
    \input{onebitalu/subctikz}
}

\begin{document}

\section{1 bit ALU}

\begin{figure}[!h]
    \centering
    \resizebox{\textwidth}{!}{
        \begin{tikzpicture}[american]

            \draw [line join = round]

            \aluOneBit {ALU} {Ain}
            {\texttt{ADDER}}
            {\texttt{ALU INIT}}
            {\texttt{MS FLIPFLOP}}
            {\texttt{MUX}}

            \aluNameLogicOp {ALU}
            {\texttt{XOR}}
            {\texttt{AND}}
            {\texttt{NOT}}
            {\texttt{OR}}
            {\texttt{NOR}}
            {\texttt{NAND}}

            (ALU-Ain) node[ocirc] {}
            (ALU-Ain) node[left = 4pt] {$A_{in}$}

            (ALU-Bin) node[ocirc] {}
            (ALU-Bin) node[left = 4pt] {$B_{in}$}

            (ALU-Regout) node[ocirc] {}
            (ALU-Regout) node[right = 4pt] {$Regout$}

            (ALU-Aluout) node[ocirc] {}
            (ALU-Aluout) node[right = 4pt] {$Aluout$}

            % OP

            (ALU-Op0) node[ocirc] {}
            (ALU-Op0) node[below = 4pt] {$Op_{0}$}

            (ALU-Op1) node[ocirc] {}
            (ALU-Op1) node[below = 4pt] {$Op_{1}$}

            (ALU-Op2) node[ocirc] {}
            (ALU-Op2) node[below = 4pt] {$Op_{2}$}

            % CLK

            (ALU-Eclk) node[ocirc] {}
            (ALU-Eclk) node[above = 4pt] {$Reclk$}

            (ALU-Ieclk) node[ocirc] {}
            (ALU-Ieclk) node[above = 4pt] {$Feclk$}

            (ALU-Rstsig) node[ocirc] {}
            (ALU-Rstsig) node[above = 4pt] {$Rst$}

            ;

        \end{tikzpicture}
    }
    \caption{A One bit ALU}
\end{figure}

\end{document}
